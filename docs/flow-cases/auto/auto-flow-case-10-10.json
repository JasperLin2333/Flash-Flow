{
  "title": "知识点问答助手",
  "goal": "用户输入问题，先在知识库检索，再给出引用式回答。",
  "tags": [
    "学习",
    "RAG",
    "问答"
  ],
  "workflow": {
    "title": "知识库引用式问答助手",
    "nodes": [
      {
        "id": "auto_input",
        "type": "input",
        "data": {
          "label": "用户输入"
        }
      },
      {
        "id": "input_1",
        "type": "Input",
        "data": {
          "label": "用户提问",
          "greeting": "请输入您的问题，我将从知识库中为您查找相关信息并给出引用式回答。",
          "enableTextInput": true,
          "textRequired": true,
          "enableFileInput": false,
          "enableStructuredForm": false
        }
      },
      {
        "id": "rag_1",
        "type": "RAG",
        "data": {
          "label": "知识库检索",
          "fileMode": "static",
          "fileSearchStoreName": "knowledge_base",
          "inputMappings": {
            "query": "{{用户提问.user_input}}"
          },
          "maxTokensPerChunk": 200
        }
      },
      {
        "id": "llm_1",
        "type": "LLM",
        "data": {
          "label": "引用式回答生成",
          "model": "qwen-flash",
          "systemPrompt": "你是一个专业的问答助手。请基于用户的问题和提供的知识库文档片段，生成一个清晰、准确的回答。回答必须严格基于提供的文档内容，并明确指出引用了哪些片段。如果文档中没有相关信息，请如实告知用户。\n\n知识库文档片段：\n{{知识库检索.documents}}",
          "temperature": 0.3,
          "responseFormat": "text",
          "inputMappings": {
            "user_input": "{{用户提问.user_input}}"
          }
        }
      },
      {
        "id": "output_1",
        "type": "Output",
        "data": {
          "label": "最终回答",
          "inputMappings": {
            "mode": "direct",
            "sources": [
              {
                "type": "variable",
                "value": "{{引用式回答生成.response}}"
              }
            ]
          }
        }
      },
      {
        "id": "auto_output",
        "type": "output",
        "data": {
          "label": "最终输出",
          "inputMappings": {
            "mode": "select",
            "sources": [
              {
                "type": "variable",
                "value": "{{用户输入.user_input}}"
              }
            ]
          }
        }
      },
      {
        "id": "llm_1_1",
        "type": "llm",
        "data": {
          "label": "任务处理",
          "model": "deepseek-v3-2-251201",
          "systemPrompt": "你是一个专业助手。目标：用户输入问题，先在知识库检索，再给出引用式回答。。请根据用户输入生成结果。",
          "temperature": 0.4,
          "inputMappings": {
            "user_input": "{{auto_input.user_input}}"
          }
        }
      }
    ],
    "edges": [
      {
        "source": "input_1",
        "target": "rag_1",
        "sourceHandle": null,
        "id": "edge_input_1_rag_1_0"
      },
      {
        "source": "rag_1",
        "target": "llm_1",
        "sourceHandle": null,
        "id": "edge_rag_1_llm_1_1"
      },
      {
        "source": "llm_1",
        "target": "output_1",
        "sourceHandle": null,
        "id": "edge_llm_1_output_1_2"
      },
      {
        "source": "auto_input",
        "target": "input_1",
        "id": "edge_auto_input_input_1_3"
      },
      {
        "source": "output_1",
        "target": "auto_output",
        "id": "edge_output_1_auto_output_4"
      },
      {
        "id": "edge_auto_input_llm_1_1",
        "source": "auto_input",
        "target": "llm_1_1"
      },
      {
        "id": "edge_llm_1_1_auto_output",
        "source": "llm_1_1",
        "target": "auto_output"
      }
    ]
  }
}