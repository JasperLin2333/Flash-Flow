# æµç¨‹åˆ—è¡¨è·¯ç”±

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx)
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts)
- [src/components/flows/FlowCard.tsx](file://src/components/flows/FlowCard.tsx)
- [src/types/flow.ts](file://src/types/flow.ts)
- [src/app/layout.tsx](file://src/app/layout.tsx)
- [src/components/ui/sidebar-drawer.tsx](file://src/components/ui/sidebar-drawer.tsx)
- [src/app/globals.css](file://src/app/globals.css)
- [package.json](file://package.json)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [æ¶æ„æ¦‚è§ˆ](#æ¶æ„æ¦‚è§ˆ)
5. [è¯¦ç»†ç»„ä»¶åˆ†æ](#è¯¦ç»†ç»„ä»¶åˆ†æ)
6. [æ•°æ®è·å–ä¸çŠ¶æ€ç®¡ç†](#æ•°æ®è·å–ä¸çŠ¶æ€ç®¡ç†)
7. [æœç´¢è¿‡æ»¤åŠŸèƒ½](#æœç´¢è¿‡æ»¤åŠŸèƒ½)
8. [é”™è¯¯å¤„ç†ä¸æ¢å¤æœºåˆ¶](#é”™è¯¯å¤„ç†ä¸æ¢å¤æœºåˆ¶)
9. [ç”¨æˆ·äº¤äº’ä¸å¯¼èˆª](#ç”¨æˆ·äº¤äº’ä¸å¯¼èˆª)
10. [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
11. [æ€»ç»“](#æ€»ç»“)

## ç®€ä»‹

æµç¨‹åˆ—è¡¨è·¯ç”±ï¼ˆ/flowsï¼‰æ˜¯ Flash Flow SaaS å¹³å°çš„æ ¸å¿ƒé¡µé¢ä¹‹ä¸€ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªç›´è§‚çš„å·¥ä½œæµç®¡ç†ç•Œé¢ã€‚è¯¥é¡µé¢å®ç°äº†å®Œæ•´çš„å·¥ä½œæµç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å·¥ä½œæµçš„å±•ç¤ºã€æœç´¢ã€åˆ›å»ºã€ç¼–è¾‘å’Œåˆ é™¤æ“ä½œã€‚é¡µé¢é‡‡ç”¨ç°ä»£åŒ–çš„ React æ¶æ„ï¼Œç»“åˆ Next.js çš„æœåŠ¡ç«¯æ¸²æŸ“èƒ½åŠ›å’Œ Tailwind CSS çš„å“åº”å¼è®¾è®¡ï¼Œä¸ºç”¨æˆ·æä¾›äº†æµç•…çš„äº¤äº’ä½“éªŒã€‚

## é¡¹ç›®ç»“æ„

æµç¨‹åˆ—è¡¨é¡µé¢ä½äº `src/app/flows/page.tsx`ï¼Œé‡‡ç”¨äº† Next.js 13+ çš„ App Router ç»“æ„ã€‚æ•´ä¸ªåº”ç”¨é‡‡ç”¨æ¨¡å—åŒ–çš„ç»„ç»‡æ–¹å¼ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š

```mermaid
graph TB
subgraph "åº”ç”¨å±‚"
A[flows/page.tsx] --> B[FlowCardç»„ä»¶]
A --> C[SidebarDrawerç»„ä»¶]
end
subgraph "æœåŠ¡å±‚"
D[flowAPI.ts] --> E[Supabaseæ•°æ®åº“]
end
subgraph "ç±»å‹å®šä¹‰"
F[flow.ts] --> G[FlowRecordæ¥å£]
F --> H[FlowDataæ¥å£]
end
A --> D
A --> F
B --> F
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L1-L147)
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts#L1-L240)
- [src/types/flow.ts](file://src/types/flow.ts#L65-L77)

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L1-L147)
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts#L1-L240)

## æ ¸å¿ƒç»„ä»¶

æµç¨‹åˆ—è¡¨é¡µé¢ç”±å¤šä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼Œæ¯ä¸ªç»„ä»¶éƒ½æœ‰æ˜ç¡®çš„èŒè´£åˆ†å·¥ï¼š

### ä¸»è¦ç»„ä»¶ç»„æˆ

1. **FlowsPage ç»„ä»¶**ï¼šé¡µé¢çš„ä¸»è¦å®¹å™¨ï¼Œè´Ÿè´£æ•°æ®è·å–å’ŒçŠ¶æ€ç®¡ç†
2. **FlowCard ç»„ä»¶**ï¼šå•ä¸ªå·¥ä½œæµå¡ç‰‡ï¼Œæä¾›ç¼–è¾‘ã€åˆ é™¤ç­‰æ“ä½œ
3. **SidebarDrawer ç»„ä»¶**ï¼šä¾§è¾¹å¯¼èˆªæŠ½å±‰ï¼Œæä¾›å¿«é€Ÿè®¿é—®åŠŸèƒ½
4. **flowAPI æœåŠ¡**ï¼šæ•°æ®è®¿é—®å±‚ï¼Œå°è£…äº†æ‰€æœ‰ä¸åç«¯çš„äº¤äº’é€»è¾‘

### ç»„ä»¶å…³ç³»å›¾

```mermaid
classDiagram
class FlowsPage {
+useState flows
+useState isLoading
+useState error
+useState query
+useEffect loadFlows
+handleCreateFlow()
+filterFlows()
}
class FlowCard {
+flow FlowRecord
+onUpdated Function
+onDeleted Function
+handleEdit()
+handleDelete()
+handleDuplicate()
}
class flowAPI {
+listFlows()
+createFlow()
+updateFlow()
+deleteFlow()
}
FlowsPage --> FlowCard : æ¸²æŸ“
FlowsPage --> flowAPI : æ•°æ®è·å–
FlowCard --> flowAPI : æ“ä½œè°ƒç”¨
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L12-L147)
- [src/components/flows/FlowCard.tsx](file://src/components/flows/FlowCard.tsx#L24-L208)
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts#L10-L240)

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L12-L147)
- [src/components/flows/FlowCard.tsx](file://src/components/flows/FlowCard.tsx#L24-L208)

## æ¶æ„æ¦‚è§ˆ

æµç¨‹åˆ—è¡¨é¡µé¢é‡‡ç”¨äº†ç°ä»£çš„å‰ç«¯æ¶æ„æ¨¡å¼ï¼Œç»“åˆäº† React Hooksã€TypeScript ç±»å‹ç³»ç»Ÿå’Œ Next.js çš„è·¯ç”±æœºåˆ¶ï¼š

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant Page as FlowsPage
participant API as flowAPI
participant DB as Supabaseæ•°æ®åº“
participant Card as FlowCard
User->>Page : è®¿é—® /flows é¡µé¢
Page->>API : useEffect è§¦å‘ loadFlows()
API->>DB : æŸ¥è¯¢ç”¨æˆ·å·¥ä½œæµ
DB-->>API : è¿”å›å·¥ä½œæµæ•°æ®
API-->>Page : è®¾ç½® flows çŠ¶æ€
Page-->>User : æ˜¾ç¤ºå·¥ä½œæµåˆ—è¡¨
User->>Page : è¾“å…¥æœç´¢å…³é”®è¯
Page->>Page : æ›´æ–° query çŠ¶æ€
Page-->>User : å®æ—¶è¿‡æ»¤æ˜¾ç¤º
User->>Page : ç‚¹å‡»æ–°å»ºæµç¨‹
Page->>API : createFlow()
API->>DB : åˆ›å»ºæ–°å·¥ä½œæµ
DB-->>API : è¿”å›æ–°å·¥ä½œæµID
API-->>Page : å¯¼èˆªåˆ°æ„å»ºå™¨é¡µé¢
Page-->>User : è·³è½¬åˆ° /builder
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L19-L35)
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts#L14-L70)
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L37-L49)

## è¯¦ç»†ç»„ä»¶åˆ†æ

### FlowsPage ä¸»é¡µé¢ç»„ä»¶

FlowsPage æ˜¯æ•´ä¸ªæµç¨‹åˆ—è¡¨çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†é¡µé¢çš„çŠ¶æ€å’Œç”¨æˆ·äº¤äº’ï¼š

#### çŠ¶æ€ç®¡ç†æœºåˆ¶

ç»„ä»¶ä½¿ç”¨äº†å››ä¸ªå…³é”®çš„çŠ¶æ€å˜é‡æ¥ç®¡ç†ä¸åŒçš„æ•°æ®çŠ¶æ€ï¼š

```mermaid
stateDiagram-v2
[*] --> Loading : ç»„ä»¶æŒ‚è½½
Loading --> Loaded : æ•°æ®åŠ è½½æˆåŠŸ
Loading --> Error : åŠ è½½å¤±è´¥
Loaded --> Loading : åˆ·æ–°æ•°æ®
Error --> Loading : é‡è¯•æ“ä½œ
Loaded --> Empty : æ²¡æœ‰å·¥ä½œæµ
Empty --> Loading : åˆ›å»ºæ–°å·¥ä½œæµ
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L14-L17)

#### æ•°æ®è·å–æµç¨‹

ç»„ä»¶åœ¨æŒ‚è½½æ—¶è‡ªåŠ¨è§¦å‘æ•°æ®åŠ è½½ï¼Œä½¿ç”¨ `useEffect` é’©å­ç¡®ä¿åªæ‰§è¡Œä¸€æ¬¡ï¼š

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L19-L35)

### FlowCard å·¥ä½œæµå¡ç‰‡ç»„ä»¶

FlowCard ç»„ä»¶ä¸ºæ¯ä¸ªå·¥ä½œæµæä¾›è¯¦ç»†çš„è§†å›¾å’Œæ“ä½œåŠŸèƒ½ï¼š

#### å¡ç‰‡åŠŸèƒ½ç‰¹æ€§

1. **åŸºæœ¬ä¿¡æ¯å±•ç¤º**ï¼šæ˜¾ç¤ºå·¥ä½œæµåç§°ã€æè¿°ã€èŠ‚ç‚¹æ•°é‡å’Œæ›´æ–°æ—¶é—´
2. **å›¾æ ‡ç³»ç»Ÿ**ï¼šæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ï¼ˆè¡¨æƒ…ç¬¦å·ã€Lucide å›¾æ ‡ã€è‡ªå®šä¹‰å›¾ç‰‡ï¼‰
3. **æ“ä½œèœå•**ï¼šæä¾›ç¼–è¾‘ã€åˆ é™¤ã€å¤åˆ¶ç­‰æ“ä½œé€‰é¡¹
4. **äº¤äº’åŠ¨ç”»**ï¼šé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºæ“ä½œæŒ‰é’®

#### å›¾æ ‡æ¸²æŸ“é€»è¾‘

```mermaid
flowchart TD
A[FlowCard æ¸²æŸ“] --> B{æ£€æŸ¥ icon_kind}
B --> |image| C[æ˜¾ç¤ºè‡ªå®šä¹‰å›¾ç‰‡]
B --> |lucide| D[æ˜¾ç¤º Lucide å›¾æ ‡]
B --> |emoji| E[æ˜¾ç¤ºè¡¨æƒ…ç¬¦å·]
B --> |undefined| F[æ˜¾ç¤ºé»˜è®¤å›¾æ ‡]
C --> G[img å…ƒç´ æ¸²æŸ“]
D --> H[å›¾æ ‡æ˜ å°„æŸ¥æ‰¾]
E --> I[è¡¨æƒ…ç¬¦å·æ˜¾ç¤º]
F --> J[ğŸ“„ é»˜è®¤å›¾æ ‡]
```

**å›¾è¡¨æ¥æº**
- [src/components/flows/FlowCard.tsx](file://src/components/flows/FlowCard.tsx#L77-L91)

**ç« èŠ‚æ¥æº**
- [src/components/flows/FlowCard.tsx](file://src/components/flows/FlowCard.tsx#L24-L208)

## æ•°æ®è·å–ä¸çŠ¶æ€ç®¡ç†

### useEffect æ•°æ®åŠ è½½æœºåˆ¶

é¡µé¢ä½¿ç”¨ `useEffect` é’©å­åœ¨ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨åŠ è½½å·¥ä½œæµæ•°æ®ï¼š

#### åŠ è½½æµç¨‹è¯¦è§£

1. **åˆå§‹åŒ–çŠ¶æ€**ï¼šè®¾ç½® `isLoading` ä¸º trueï¼Œæ¸…é™¤ä¹‹å‰çš„é”™è¯¯çŠ¶æ€
2. **API è°ƒç”¨**ï¼šè°ƒç”¨ `flowAPI.listFlows()` è·å–ç”¨æˆ·å·¥ä½œæµ
3. **é”™è¯¯å¤„ç†**ï¼šæ•è·å¼‚å¸¸å¹¶è®¾ç½®é”™è¯¯çŠ¶æ€
4. **çŠ¶æ€æ›´æ–°**ï¼šæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½ç»“æŸåŠ è½½çŠ¶æ€

#### é”™è¯¯å¤„ç†ç­–ç•¥

```mermaid
flowchart TD
A[å¼€å§‹åŠ è½½] --> B{APIè°ƒç”¨æˆåŠŸ?}
B --> |æ˜¯| C[è®¾ç½®flowsæ•°æ®]
B --> |å¦| D[è®°å½•é”™è¯¯æ—¥å¿—]
D --> E[è®¾ç½®é”™è¯¯çŠ¶æ€]
C --> F[ç»“æŸåŠ è½½çŠ¶æ€]
E --> F
F --> G[æ¸²æŸ“ç›¸åº”UI]
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L23-L35)

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L19-L35)

### flowAPI æœåŠ¡å±‚è®¾è®¡

flowAPI ä½œä¸ºæ•°æ®è®¿é—®å±‚ï¼Œæä¾›äº†å®Œæ•´çš„ CRUD æ“ä½œï¼š

#### æ ¸å¿ƒæ–¹æ³•åŠŸèƒ½

| æ–¹æ³•å | åŠŸèƒ½æè¿° | å‚æ•° | è¿”å›å€¼ |
|--------|----------|------|--------|
| listFlows | è·å–ç”¨æˆ·å·¥ä½œæµåˆ—è¡¨ | ownerId?: string | Promise\<FlowRecord[]\> |
| getFlow | è·å–å•ä¸ªå·¥ä½œæµè¯¦æƒ… | id: string | Promise\<FlowRecord \| null\> |
| createFlow | åˆ›å»ºæ–°å·¥ä½œæµ | name, flowData, ownerId, description? | Promise\<FlowRecord\> |
| updateFlow | æ›´æ–°å·¥ä½œæµä¿¡æ¯ | id, updates | Promise\<FlowRecord\> |
| deleteFlow | åˆ é™¤å·¥ä½œæµ | id: string | Promise\<void\> |

**ç« èŠ‚æ¥æº**
- [src/services/flowAPI.ts](file://src/services/flowAPI.ts#L14-L240)

## æœç´¢è¿‡æ»¤åŠŸèƒ½

### useState çŠ¶æ€ç®¡ç†

æœç´¢åŠŸèƒ½é€šè¿‡ `useState` ç®¡ç†æŸ¥è¯¢å­—ç¬¦ä¸²çŠ¶æ€ï¼š

#### çŠ¶æ€åŒæ­¥æœºåˆ¶

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·è¾“å…¥
participant Input as æœç´¢è¾“å…¥æ¡†
participant State as query çŠ¶æ€
participant Filter as è¿‡æ»¤é€»è¾‘
participant Display as æ˜¾ç¤ºç»“æœ
User->>Input : è¾“å…¥æœç´¢å…³é”®è¯
Input->>State : setQuery(value)
State->>Filter : è§¦å‘é‡æ–°è®¡ç®—
Filter->>Display : æ›´æ–°æ˜¾ç¤ºçš„å·¥ä½œæµ
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L76-L77)

### useMemo æ€§èƒ½ä¼˜åŒ–

ä¸ºäº†æé«˜æœç´¢æ€§èƒ½ï¼Œä½¿ç”¨ `useMemo` ç¼“å­˜è¿‡æ»¤ç»“æœï¼š

#### ä¼˜åŒ–ç­–ç•¥

1. **ä¾èµ–è¿½è¸ª**ï¼šåªåœ¨ `flows` æˆ– `query` å˜åŒ–æ—¶é‡æ–°è®¡ç®—
2. **æµ…æ¯”è¾ƒ**ï¼šé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
3. **è®¡ç®—åˆ†ç¦»**ï¼šå°†å¤æ‚çš„è¿‡æ»¤é€»è¾‘ä»æ¸²æŸ“å‡½æ•°ä¸­åˆ†ç¦»

#### è¿‡æ»¤ç®—æ³•

æœç´¢åŠŸèƒ½æ”¯æŒå¯¹å·¥ä½œæµåç§°å’Œæè¿°çš„æ¨¡ç³ŠåŒ¹é…ï¼š

```mermaid
flowchart TD
A[ç”¨æˆ·è¾“å…¥æŸ¥è¯¢] --> B[è½¬æ¢ä¸ºå°å†™]
B --> C[éå†æ‰€æœ‰å·¥ä½œæµ]
C --> D{nameåŒ…å«æŸ¥è¯¢?}
D --> |æ˜¯| E[ä¿ç•™å·¥ä½œæµ]
D --> |å¦| F{descriptionåŒ…å«æŸ¥è¯¢?}
F --> |æ˜¯| E
F --> |å¦| G[è¿‡æ»¤æ‰å·¥ä½œæµ]
E --> H[è¿”å›è¿‡æ»¤ç»“æœ]
G --> H
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L52)

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L16-L17)
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L52)

## é”™è¯¯å¤„ç†ä¸æ¢å¤æœºåˆ¶

### å¤šå±‚æ¬¡é”™è¯¯å¤„ç†

é¡µé¢å®ç°äº†å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒåŒ…æ‹¬åŠ è½½é”™è¯¯ã€æ“ä½œé”™è¯¯å’Œç½‘ç»œé”™è¯¯ï¼š

#### é”™è¯¯çŠ¶æ€ç®¡ç†

```mermaid
stateDiagram-v2
[*] --> Normal : æ­£å¸¸çŠ¶æ€
Normal --> Loading : å¼€å§‹åŠ è½½
Loading --> Loaded : åŠ è½½æˆåŠŸ
Loading --> Error : åŠ è½½å¤±è´¥
Error --> Loading : é‡è¯•æ“ä½œ
Loaded --> Error : æ“ä½œå¤±è´¥
Error --> Normal : é”™è¯¯è§£å†³
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L15-L17)

#### é”™è¯¯æ¢å¤æœºåˆ¶

1. **é‡è¯•æŒ‰é’®**ï¼šé”™è¯¯çŠ¶æ€ä¸‹æä¾›é‡è¯•æŒ‰é’®
2. **è‡ªåŠ¨é‡è¯•**ï¼šæŸäº›æƒ…å†µä¸‹è‡ªåŠ¨è§¦å‘é‡è¯•
3. **é™çº§å¤„ç†**ï¼šåœ¨é”™è¯¯çŠ¶æ€ä¸‹æä¾›åŸºæœ¬åŠŸèƒ½

#### é”™è¯¯ç±»å‹åˆ†ç±»

| é”™è¯¯ç±»å‹ | å¤„ç†æ–¹å¼ | ç”¨æˆ·ä½“éªŒ |
|----------|----------|----------|
| ç½‘ç»œé”™è¯¯ | æ˜¾ç¤ºé‡è¯•æŒ‰é’® | æä¾›æ‰‹åŠ¨é‡è¯•æœºä¼š |
| æ•°æ®æ ¼å¼é”™è¯¯ | è®°å½•æ—¥å¿—å¹¶é™çº§ | æ˜¾ç¤ºéƒ¨åˆ†åŠŸèƒ½ |
| æƒé™é”™è¯¯ | å¼•å¯¼ç”¨æˆ·ç™»å½• | æä¾›ç™»å½•å…¥å£ |
| æœåŠ¡å™¨é”™è¯¯ | æ˜¾ç¤ºé€šç”¨é”™è¯¯ä¿¡æ¯ | å»ºè®®è”ç³»æ”¯æŒ |

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L23-L35)
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L89-L100)

## ç”¨æˆ·äº¤äº’ä¸å¯¼èˆª

### æ–°å»ºæµç¨‹åŠŸèƒ½

æ–°å»ºæµç¨‹åŠŸèƒ½é€šè¿‡ `handleCreateFlow` æ–¹æ³•å®ç°ï¼š

#### åˆ›å»ºæµç¨‹æµç¨‹

```mermaid
sequenceDiagram
participant User as ç”¨æˆ·
participant Page as FlowsPage
participant API as flowAPI
participant Builder as æ„å»ºå™¨é¡µé¢
User->>Page : ç‚¹å‡»"æ–°å»º Flow"æŒ‰é’®
Page->>API : createFlow("Untitled Flow", {}, "anonymous")
API->>API : åˆ›å»ºæ–°å·¥ä½œæµè®°å½•
API-->>Page : è¿”å›æ–°å·¥ä½œæµå¯¹è±¡
Page->>Builder : router.push(`/builder?flowId=${newFlow.id}`)
Builder-->>User : æ˜¾ç¤ºæ„å»ºå™¨ç•Œé¢
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L37-L49)

### å¯¼èˆªç³»ç»Ÿ

é¡µé¢é›†æˆäº†å®Œæ•´çš„å¯¼èˆªç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

1. **é¢åŒ…å±‘å¯¼èˆª**ï¼šæ˜¾ç¤ºå½“å‰é¡µé¢ä½ç½®
2. **ä¾§è¾¹æ å¯¼èˆª**ï¼šæä¾›å¿«é€Ÿè®¿é—®åŠŸèƒ½
3. **æŒ‰é’®å¯¼èˆª**ï¼šé¦–é¡µã€æ–°å»ºæµç¨‹ç­‰å¿«æ·æ“ä½œ

#### å¯¼èˆªçŠ¶æ€ç®¡ç†

```mermaid
flowchart LR
A[FlowsPage] --> B[Router Hook]
B --> C[é¡µé¢å¯¼èˆª]
A --> D[SideNav]
D --> E[å¿«é€Ÿè®¿é—®]
A --> F[æŒ‰é’®å¯¼èˆª]
F --> G[åŠŸèƒ½è·³è½¬]
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L13)
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L79-L84)

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L37-L49)
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L79-L84)

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### useMemo ä¼˜åŒ–

é¡µé¢ä½¿ç”¨ `useMemo` å¯¹è¿‡æ»¤é€»è¾‘è¿›è¡Œä¼˜åŒ–ï¼š

#### ä¼˜åŒ–æ•ˆæœ

1. **å‡å°‘è®¡ç®—å¼€é”€**ï¼šé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—è¿‡æ»¤ç»“æœ
2. **æå‡å“åº”é€Ÿåº¦**ï¼šæœç´¢æ“ä½œæ›´åŠ æµç•…
3. **é™ä½ CPU ä½¿ç”¨ç‡**ï¼šå‡å°‘ä¸å¿…è¦çš„ JavaScript æ‰§è¡Œ

### çŠ¶æ€æ›´æ–°ä¼˜åŒ–

#### æ‰¹é‡çŠ¶æ€æ›´æ–°

```mermaid
flowchart TD
A[ç”¨æˆ·æ“ä½œ] --> B[æ‰¹é‡çŠ¶æ€æ›´æ–°]
B --> C[React åˆå¹¶æ›´æ–°]
C --> D[æœ€å°åŒ–é‡æ–°æ¸²æŸ“]
D --> E[æå‡æ€§èƒ½]
```

**å›¾è¡¨æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L52)

### ç»„ä»¶æ‡’åŠ è½½

é¡µé¢ä½¿ç”¨åŠ¨æ€å¯¼å…¥æ¥ä¼˜åŒ–åˆå§‹åŠ è½½æ€§èƒ½ï¼š

#### æ‡’åŠ è½½ç­–ç•¥

1. **æŒ‰éœ€åŠ è½½**ï¼šåªåœ¨éœ€è¦æ—¶åŠ è½½ç»„ä»¶
2. **ä»£ç åˆ†å‰²**ï¼šå‡å°‘åˆå§‹åŒ…å¤§å°
3. **å¹¶è¡ŒåŠ è½½**ï¼šåŒæ—¶åŠ è½½å¤šä¸ªæ¨¡å—

**ç« èŠ‚æ¥æº**
- [src/app/flows/page.tsx](file://src/app/flows/page.tsx#L52)
- [src/components/ui/sidebar-drawer.tsx](file://src/components/ui/sidebar-drawer.tsx#L50-L86)

## æ€»ç»“

æµç¨‹åˆ—è¡¨è·¯ç”±é¡µé¢å±•ç°äº†ç°ä»£ React åº”ç”¨çš„æœ€ä½³å®è·µï¼Œé€šè¿‡ä»¥ä¸‹å…³é”®ç‰¹æ€§æä¾›äº†ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒï¼š

### æŠ€æœ¯äº®ç‚¹

1. **å®Œæ•´çš„çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ React Hooks å®ç°äº†æ¸…æ™°çš„çŠ¶æ€ç®¡ç†
2. **æ™ºèƒ½çš„æ€§èƒ½ä¼˜åŒ–**ï¼šé€šè¿‡ useMemo å’ŒçŠ¶æ€åˆå¹¶æå‡æ€§èƒ½
3. **å¥å£®çš„é”™è¯¯å¤„ç†**ï¼šå¤šå±‚æ¬¡çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
4. **æµç•…çš„ç”¨æˆ·äº¤äº’**ï¼šå®æ—¶æœç´¢å’Œå³æ—¶åé¦ˆ
5. **æ¨¡å—åŒ–çš„è®¾è®¡**ï¼šæ¸…æ™°çš„ç»„ä»¶åˆ†å±‚å’ŒèŒè´£åˆ†ç¦»

### æ¶æ„ä¼˜åŠ¿

- **å¯ç»´æŠ¤æ€§**ï¼šæ¸…æ™°çš„ä»£ç ç»“æ„å’Œç±»å‹å®šä¹‰
- **å¯æ‰©å±•æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ä¾¿äºåŠŸèƒ½æ‰©å±•
- **å¯æµ‹è¯•æ€§**ï¼šç‹¬ç«‹çš„ç»„ä»¶å’ŒæœåŠ¡ä¾¿äºå•å…ƒæµ‹è¯•
- **ç”¨æˆ·ä½“éªŒ**ï¼šå“åº”å¼è®¾è®¡å’Œæµç•…çš„äº¤äº’

### æœ€ä½³å®è·µä½“ç°

1. **TypeScript ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰ç¡®ä¿ä»£ç è´¨é‡
2. **é”™è¯¯è¾¹ç•Œå¤„ç†**ï¼šä¼˜é›…çš„é”™è¯¯å¤„ç†æœºåˆ¶
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†çš„ä¼˜åŒ–ç­–ç•¥æå‡ç”¨æˆ·ä½“éªŒ
4. **å¯è®¿é—®æ€§**ï¼šç¬¦åˆ Web å¯è®¿é—®æ€§æ ‡å‡†

è¿™ä¸ªæµç¨‹åˆ—è¡¨é¡µé¢ä¸ä»…æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å·¥å…·ï¼Œæ›´æ˜¯ç°ä»£å‰ç«¯å¼€å‘æœ€ä½³å®è·µçš„ä¼˜ç§€èŒƒä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•æ„å»ºé«˜è´¨é‡ã€é«˜æ€§èƒ½çš„ Web åº”ç”¨ç¨‹åºã€‚